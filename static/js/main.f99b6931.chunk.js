(this["webpackJsonpnote-app"]=this["webpackJsonpnote-app"]||[]).push([[0],{11:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),i=n(4),r=n.n(i),s=n(2),a=(n(11),n(5)),l=n.n(a),d=n(0);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25,n=e.substring(0,t);return n.length===e.length?e:n+"..."}var j=function(e){var t=e.note,n=e.selectNote,c=e.selectedNote;return Object(d.jsxs)("li",{onClick:function(){return n(t)},className:t.id===c.id?"selected":void 0,children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"title",children:u(t.title,33)}),""!==t.category&&void 0!==t.category?Object(d.jsx)("div",{className:"category category-".concat(t.category)}):null]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("span",{className:"body-preview",children:u(t.body)}),Object(d.jsx)("span",{className:"date",children:l()(t.updated_at).fromNow()})]})]})},b=n(6),h=Object(c.createContext)(),v=function(e){var t=e.children,n=Object(c.useState)([]),o=Object(s.a)(n,2),i=o[0],r=o[1],a=Object(c.useState)({}),l=Object(s.a)(a,2),u=l[0],j=l[1],v=Object(c.useState)(!1),f=Object(s.a)(v,2),O=f[0],x=f[1];Object(c.useEffect)((function(){var e=g();r(e)}),[]),Object(c.useEffect)((function(){w()}),[i]);var g=function(){var e=window.localStorage.getItem("notes");return null===(e=JSON.parse(e))?[]:e},w=function(){var e=JSON.stringify(i);window.localStorage.setItem("notes",e)};return Object(d.jsx)(h.Provider,{value:{notes:i,selectedNote:u,setSelectedNote:j,editMode:O,setEditMode:x,selectNote:function(e){j(e),x(!1)},addEmptyNote:function(){var e={id:Object(b.uuid)(),title:"untitled",body:"",updated_at:new Date},t=i;t.unshift(e),r(t),j(e),x(!0)},saveNote:function(e){var t=e.id,n=e.title,c=e.body,o=e.category,s=i.filter((function(e){return e.id!==t})),a=i.filter((function(e){return e.id===t}))[0];a.title=n,a.body=c,a.category=o,a.updated_at=new Date,s.unshift(a),r(s),x(!1),w()},deleteNote:function(e){var t=i.filter((function(t){return t.id!==e}));r(t),x(!1),j({})}},children:t})};var f=function(){var e=Object(c.useContext)(h),t=e.notes,n=e.selectedNote,o=e.selectNote;return Object(d.jsx)("ul",{children:t.map((function(e){return Object(d.jsx)(j,{note:e,selectNote:o,selectedNote:n},e.id)}))})};var O=function(){var e=Object(c.useContext)(h).addEmptyNote;return Object(d.jsxs)("aside",{className:"main-side-bar",children:[Object(d.jsx)("div",{className:"header",children:Object(d.jsx)("h1",{children:"My Notes"})}),Object(d.jsx)(f,{}),Object(d.jsx)("div",{className:"center",children:Object(d.jsx)("button",{className:"btn-primary",onClick:e,children:"+ Create new note"})})]})};var x=function(){var e=Object(c.useContext)(h),t=e.selectedNote,n=e.setSelectedNote,o=e.setEditMode,i=function(){return o(!0)};return t.id?Object(d.jsxs)("div",{className:"show-note",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("button",{className:"btn-option-left btn-back",onClick:function(){return n({})},children:Object(d.jsxs)("svg",{viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",children:[Object(d.jsx)("title",{}),Object(d.jsx)("g",{"data-name":"1",id:"_1",children:Object(d.jsx)("path",{d:"M353,450a15,15,0,0,1-10.61-4.39L157.5,260.71a15,15,0,0,1,0-21.21L342.39,54.6a15,15,0,1,1,21.22,21.21L189.32,250.1,363.61,424.39A15,15,0,0,1,353,450Z"})})]})}),Object(d.jsx)("h2",{className:"title",onDoubleClick:i,children:t.title}),Object(d.jsx)("button",{className:"btn-option",onClick:i,children:Object(d.jsx)("svg",{height:"484pt",viewBox:"-15 -15 484.00019 484",width:"484pt",xmlns:"http://www.w3.org/2000/svg",children:Object(d.jsx)("path",{d:"m401.648438 18.234375c-24.394532-24.351563-63.898438-24.351563-88.292969 0l-22.101563 22.222656-235.269531 235.144531-.5.503907c-.121094.121093-.121094.25-.25.25-.25.375-.625.746093-.871094 1.121093 0 .125-.128906.125-.128906.25-.25.375-.371094.625-.625 1-.121094.125-.121094.246094-.246094.375-.125.375-.25.625-.378906 1 0 .121094-.121094.121094-.121094.25l-52.199219 156.96875c-1.53125 4.46875-.367187 9.417969 2.996094 12.734376 2.363282 2.332031 5.550782 3.636718 8.867188 3.625 1.355468-.023438 2.699218-.234376 3.996094-.625l156.847656-52.324219c.121094 0 .121094 0 .25-.121094.394531-.117187.773437-.285156 1.121094-.503906.097656-.011719.183593-.054688.253906-.121094.371094-.25.871094-.503906 1.246094-.753906.371093-.246094.75-.621094 1.125-.871094.125-.128906.246093-.128906.246093-.25.128907-.125.378907-.246094.503907-.5l257.371093-257.371094c24.351563-24.394531 24.351563-63.898437 0-88.289062zm-232.273438 353.148437-86.914062-86.910156 217.535156-217.535156 86.914062 86.910156zm-99.15625-63.808593 75.929688 75.925781-114.015626 37.960938zm347.664062-184.820313-13.238281 13.363282-86.917969-86.917969 13.367188-13.359375c14.621094-14.609375 38.320312-14.609375 52.945312 0l33.964844 33.964844c14.511719 14.6875 14.457032 38.332031-.121094 52.949218zm0 0"})})})]}),Object(d.jsx)("div",{className:"body",onDoubleClick:i,children:t.body})]}):null},g=["yellow","red","green","blue","purple"];var w=function(e){var t=e.selectedCategory,n=e.onSelect;return Object(d.jsx)("div",{className:"categories",children:g.map((function(e){return Object(d.jsx)("div",{onClick:function(){return function(e){n(e===t?"":e)}(e)},className:"category category-".concat(e," ").concat(t===e?"category-selected":"")},e)}))})};var m=function(){var e=Object(c.useContext)(h),t=e.selectedNote,n=e.saveNote,o=e.deleteNote,i=Object(c.useState)(t.title),r=Object(s.a)(i,2),a=r[0],l=r[1],u=Object(c.useState)(t.body),j=Object(s.a)(u,2),b=j[0],v=j[1],f=Object(c.useState)(t.category),O=Object(s.a)(f,2),x=O[0],g=O[1];return Object(d.jsxs)("form",{className:"edit-note",onSubmit:function(e){return function(e){e.preventDefault(),n({id:t.id,title:a,body:b,category:x})}(e)},children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("input",{type:"text",className:"title",placeholder:"Title",value:a,onChange:function(e){return l(e.target.value)},autoFocus:!0}),Object(d.jsx)("button",{className:"btn-option",onClick:function(){return o(t.id)},children:Object(d.jsx)("svg",{id:"Layer_1",enableBackground:"new 0 0 512 512",height:"512",viewBox:"0 0 512 512",width:"512",xmlns:"http://www.w3.org/2000/svg",children:Object(d.jsxs)("g",{children:[Object(d.jsx)("path",{d:"m424 64h-88v-16c0-26.467-21.533-48-48-48h-64c-26.467 0-48 21.533-48 48v16h-88c-22.056 0-40 17.944-40 40v56c0 8.836 7.164 16 16 16h8.744l13.823 290.283c1.221 25.636 22.281 45.717 47.945 45.717h242.976c25.665 0 46.725-20.081 47.945-45.717l13.823-290.283h8.744c8.836 0 16-7.164 16-16v-56c0-22.056-17.944-40-40-40zm-216-16c0-8.822 7.178-16 16-16h64c8.822 0 16 7.178 16 16v16h-96zm-128 56c0-4.411 3.589-8 8-8h336c4.411 0 8 3.589 8 8v40c-4.931 0-331.567 0-352 0zm313.469 360.761c-.407 8.545-7.427 15.239-15.981 15.239h-242.976c-8.555 0-15.575-6.694-15.981-15.239l-13.751-288.761h302.44z"}),Object(d.jsx)("path",{d:"m256 448c8.836 0 16-7.164 16-16v-208c0-8.836-7.164-16-16-16s-16 7.164-16 16v208c0 8.836 7.163 16 16 16z"}),Object(d.jsx)("path",{d:"m336 448c8.836 0 16-7.164 16-16v-208c0-8.836-7.164-16-16-16s-16 7.164-16 16v208c0 8.836 7.163 16 16 16z"}),Object(d.jsx)("path",{d:"m176 448c8.836 0 16-7.164 16-16v-208c0-8.836-7.164-16-16-16s-16 7.164-16 16v208c0 8.836 7.163 16 16 16z"})]})})}),Object(d.jsx)("button",{type:"submit",className:"btn-option",children:Object(d.jsx)("svg",{x:"0px",y:"0px",width:"448.8px",height:"448.8px",viewBox:"0 0 448.8 448.8",children:Object(d.jsx)("g",{id:"check",children:Object(d.jsx)("polygon",{points:"142.8,323.85 35.7,216.75 0,252.45 142.8,395.25 448.8,89.25 413.1,53.55"})})})})]}),Object(d.jsx)(w,{selectedCategory:x,onSelect:g}),Object(d.jsx)("textarea",{className:"body",placeholder:"Body",rows:"10",value:b,onChange:function(e){return v(e.target.value)}})]})};var p=function(){var e=Object(c.useContext)(h).editMode;return Object(d.jsx)("main",{children:e?Object(d.jsx)(m,{}):Object(d.jsx)(x,{})})};var N=function(){var e=function(){var e=Object(c.useState)([0,0]),t=Object(s.a)(e,2),n=t[0],o=t[1];return Object(c.useLayoutEffect)((function(){function e(){o({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}().width,t=Object(c.useContext)(h).selectedNote,n="container";return e<1e3&&(n+=" mobile-mode",t.id&&(n+=" note-full-screen")),Object(d.jsxs)("div",{className:n,children:[Object(d.jsx)(O,{}),Object(d.jsx)(p,{})]})},y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(v,{children:Object(d.jsx)(N,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");y?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):k(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):k(t,e)}))}}()}},[[19,1,2]]]);
//# sourceMappingURL=main.f99b6931.chunk.js.map